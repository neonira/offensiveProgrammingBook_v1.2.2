<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 4 The type factory | Offensive Programming Book</title>
  <meta name="description" content="wyz.code.offensiveProgramming package related documentation" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content=" 4 The type factory | Offensive Programming Book" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="figures/op.png" />
  <meta property="og:description" content="wyz.code.offensiveProgramming package related documentation" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 4 The type factory | Offensive Programming Book" />
  
  <meta name="twitter:description" content="wyz.code.offensiveProgramming package related documentation" />
  <meta name="twitter:image" content="figures/op.png" />

<meta name="author" content="Fabien GELINEAU neonira@gmail.com" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="activating-offensive-programming.html"/>
<link rel="next" href="semantic-names.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Offensive Programming Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#book-version"><i class="fa fa-check"></i>Book version</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#book-production"><i class="fa fa-check"></i>Book production</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preamble.html"><a href="preamble.html"><i class="fa fa-check"></i>Preamble</a></li>
<li class="chapter" data-level="1" data-path="programming-styles.html"><a href="programming-styles.html"><i class="fa fa-check"></i><b>1</b> Programming styles</a><ul>
<li class="chapter" data-level="1.1" data-path="programming-styles.html"><a href="programming-styles.html#defensive-programming-style"><i class="fa fa-check"></i><b>1.1</b> Defensive programming style</a></li>
<li class="chapter" data-level="1.2" data-path="programming-styles.html"><a href="programming-styles.html#offensive-programming-style"><i class="fa fa-check"></i><b>1.2</b> Offensive programming style</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="application-in-r-language.html"><a href="application-in-r-language.html"><i class="fa fa-check"></i><b>2</b> Application in R language</a><ul>
<li class="chapter" data-level="2.1" data-path="application-in-r-language.html"><a href="application-in-r-language.html#a-simple-case"><i class="fa fa-check"></i><b>2.1</b> A simple case</a></li>
<li class="chapter" data-level="2.2" data-path="application-in-r-language.html"><a href="application-in-r-language.html#defensive-programming"><i class="fa fa-check"></i><b>2.2</b> Defensive programming</a></li>
<li class="chapter" data-level="2.3" data-path="application-in-r-language.html"><a href="application-in-r-language.html#offensive-programming"><i class="fa fa-check"></i><b>2.3</b> Offensive programming</a><ul>
<li class="chapter" data-level="2.3.1" data-path="application-in-r-language.html"><a href="application-in-r-language.html#what-are-the-differences"><i class="fa fa-check"></i><b>2.3.1</b> What are the differences?</a></li>
<li class="chapter" data-level="2.3.2" data-path="application-in-r-language.html"><a href="application-in-r-language.html#semantic-argument-naming"><i class="fa fa-check"></i><b>2.3.2</b> Semantic argument naming</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="application-in-r-language.html"><a href="application-in-r-language.html#back-to-definition"><i class="fa fa-check"></i><b>2.4</b> Back to definition</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="activating-offensive-programming.html"><a href="activating-offensive-programming.html"><i class="fa fa-check"></i><b>3</b> Activating offensive programming</a><ul>
<li class="chapter" data-level="3.1" data-path="activating-offensive-programming.html"><a href="activating-offensive-programming.html#package-discovery"><i class="fa fa-check"></i><b>3.1</b> Package discovery</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-type-factory.html"><a href="the-type-factory.html"><i class="fa fa-check"></i><b>4</b> The type factory</a><ul>
<li class="chapter" data-level="4.1" data-path="the-type-factory.html"><a href="the-type-factory.html#get-recorded-types-inventory"><i class="fa fa-check"></i><b>4.1</b> Get recorded types inventory</a></li>
<li class="chapter" data-level="4.2" data-path="the-type-factory.html"><a href="the-type-factory.html#understanding-the-model"><i class="fa fa-check"></i><b>4.2</b> Understanding the model</a></li>
<li class="chapter" data-level="4.3" data-path="the-type-factory.html"><a href="the-type-factory.html#register-your-own-type"><i class="fa fa-check"></i><b>4.3</b> Register your own type</a></li>
<li class="chapter" data-level="4.4" data-path="the-type-factory.html"><a href="the-type-factory.html#get-access-to-verification-functions"><i class="fa fa-check"></i><b>4.4</b> Get access to verification functions</a></li>
<li class="chapter" data-level="4.5" data-path="the-type-factory.html"><a href="the-type-factory.html#some-hints"><i class="fa fa-check"></i><b>4.5</b> Some hints</a></li>
<li class="chapter" data-level="4.6" data-path="the-type-factory.html"><a href="the-type-factory.html#enforcing-use-of-your-own-type-factory"><i class="fa fa-check"></i><b>4.6</b> Enforcing use of your own type factory</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="semantic-names.html"><a href="semantic-names.html"><i class="fa fa-check"></i><b>5</b> Semantic names</a><ul>
<li class="chapter" data-level="5.1" data-path="semantic-names.html"><a href="semantic-names.html#what-is-semantic-naming"><i class="fa fa-check"></i><b>5.1</b> What is semantic naming?</a><ul>
<li class="chapter" data-level="5.1.1" data-path="semantic-names.html"><a href="semantic-names.html#naming-recommendation"><i class="fa fa-check"></i><b>5.1.1</b> Naming recommendation</a></li>
<li class="chapter" data-level="5.1.2" data-path="semantic-names.html"><a href="semantic-names.html#semantic-naming"><i class="fa fa-check"></i><b>5.1.2</b> Semantic naming</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="semantic-names.html"><a href="semantic-names.html#verifying-names"><i class="fa fa-check"></i><b>5.2</b> Verifying names</a><ul>
<li class="chapter" data-level="5.2.1" data-path="semantic-names.html"><a href="semantic-names.html#verifying-a-function-parameter-or-return-type-declaration"><i class="fa fa-check"></i><b>5.2.1</b> Verifying a function parameter or return type declaration</a></li>
<li class="chapter" data-level="5.2.2" data-path="semantic-names.html"><a href="semantic-names.html#verifying-a-class-name"><i class="fa fa-check"></i><b>5.2.2</b> Verifying a class name</a></li>
<li class="chapter" data-level="5.2.3" data-path="semantic-names.html"><a href="semantic-names.html#verifying-a-function-name"><i class="fa fa-check"></i><b>5.2.3</b> Verifying a function name</a></li>
<li class="chapter" data-level="5.2.4" data-path="semantic-names.html"><a href="semantic-names.html#get-naming-balance-from-an-r-object"><i class="fa fa-check"></i><b>5.2.4</b> Get naming balance from an R object</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="evaluation-modes.html"><a href="evaluation-modes.html"><i class="fa fa-check"></i><b>6</b> Evaluation modes</a><ul>
<li class="chapter" data-level="6.1" data-path="evaluation-modes.html"><a href="evaluation-modes.html#understanding-evaluation-modes"><i class="fa fa-check"></i><b>6.1</b> Understanding evaluation modes</a></li>
<li class="chapter" data-level="6.2" data-path="evaluation-modes.html"><a href="evaluation-modes.html#instantiating-evaluation-mode"><i class="fa fa-check"></i><b>6.2</b> Instantiating evaluation mode</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="running-functions.html"><a href="running-functions.html"><i class="fa fa-check"></i><b>7</b> Running functions</a><ul>
<li class="chapter" data-level="7.1" data-path="running-functions.html"><a href="running-functions.html#prerequisites"><i class="fa fa-check"></i><b>7.1</b> Prerequisites</a></li>
<li class="chapter" data-level="7.2" data-path="running-functions.html"><a href="running-functions.html#transient-invocations"><i class="fa fa-check"></i><b>7.2</b> Transient invocations</a><ul>
<li class="chapter" data-level="7.2.1" data-path="running-functions.html"><a href="running-functions.html#nominal-case"><i class="fa fa-check"></i><b>7.2.1</b> Nominal case</a></li>
<li class="chapter" data-level="7.2.2" data-path="running-functions.html"><a href="running-functions.html#prerequisite-mismatch"><i class="fa fa-check"></i><b>7.2.2</b> Prerequisite mismatch</a></li>
<li class="chapter" data-level="7.2.3" data-path="running-functions.html"><a href="running-functions.html#object-function-call"><i class="fa fa-check"></i><b>7.2.3</b> Object function call</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="running-functions.html"><a href="running-functions.html#persistent-invocations"><i class="fa fa-check"></i><b>7.3</b> Persistent invocations</a><ul>
<li class="chapter" data-level="7.3.1" data-path="running-functions.html"><a href="running-functions.html#verifying-recorded-information"><i class="fa fa-check"></i><b>7.3.1</b> Verifying recorded information</a></li>
<li class="chapter" data-level="7.3.2" data-path="running-functions.html"><a href="running-functions.html#nominal-persistent-case"><i class="fa fa-check"></i><b>7.3.2</b> Nominal persistent case</a></li>
<li class="chapter" data-level="7.3.3" data-path="running-functions.html"><a href="running-functions.html#subtile-change"><i class="fa fa-check"></i><b>7.3.3</b> Subtile change</a></li>
<li class="chapter" data-level="7.3.4" data-path="running-functions.html"><a href="running-functions.html#call-case-with-named-and-positional-parameters"><i class="fa fa-check"></i><b>7.3.4</b> Call case with named and positional parameters</a></li>
<li class="chapter" data-level="7.3.5" data-path="running-functions.html"><a href="running-functions.html#call-case-with-ellipsis"><i class="fa fa-check"></i><b>7.3.5</b> Call case with ellipsis</a></li>
<li class="chapter" data-level="7.3.6" data-path="running-functions.html"><a href="running-functions.html#second-call-case-with-ellipsis"><i class="fa fa-check"></i><b>7.3.6</b> Second call case with ellipsis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="running-test-cases.html"><a href="running-test-cases.html"><i class="fa fa-check"></i><b>8</b> Running test cases</a><ul>
<li class="chapter" data-level="8.1" data-path="running-test-cases.html"><a href="running-test-cases.html#embedding-test-cases"><i class="fa fa-check"></i><b>8.1</b> Embedding test cases</a></li>
<li class="chapter" data-level="8.2" data-path="running-test-cases.html"><a href="running-test-cases.html#discovering-test-cases"><i class="fa fa-check"></i><b>8.2</b> Discovering test cases</a><ul>
<li class="chapter" data-level="8.2.1" data-path="running-test-cases.html"><a href="running-test-cases.html#test-case-verifications"><i class="fa fa-check"></i><b>8.2.1</b> Test case verifications</a></li>
<li class="chapter" data-level="8.2.2" data-path="running-test-cases.html"><a href="running-test-cases.html#getting-instrumented-functions"><i class="fa fa-check"></i><b>8.2.2</b> Getting instrumented functions</a></li>
<li class="chapter" data-level="8.2.3" data-path="running-test-cases.html"><a href="running-test-cases.html#getting-test-cases-descriptions"><i class="fa fa-check"></i><b>8.2.3</b> Getting test cases descriptions</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="running-test-cases.html"><a href="running-test-cases.html#running-test-cases-1"><i class="fa fa-check"></i><b>8.3</b> Running test cases</a><ul>
<li class="chapter" data-level="8.3.1" data-path="running-test-cases.html"><a href="running-test-cases.html#run-a-single-test-case"><i class="fa fa-check"></i><b>8.3.1</b> Run a single test case</a></li>
<li class="chapter" data-level="8.3.2" data-path="running-test-cases.html"><a href="running-test-cases.html#run-several-test-cases"><i class="fa fa-check"></i><b>8.3.2</b> Run several test cases</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="generating-testthat-test-files.html"><a href="generating-testthat-test-files.html"><i class="fa fa-check"></i><b>9</b> Generating <cite class='it'>testthat</cite> test files</a><ul>
<li class="chapter" data-level="9.1" data-path="generating-testthat-test-files.html"><a href="generating-testthat-test-files.html#package-wyz.code.testthat-in-action"><i class="fa fa-check"></i><b>9.1</b> Package <cite class='it'>wyz.code.testthat</cite> in action</a><ul>
<li class="chapter" data-level="9.1.1" data-path="generating-testthat-test-files.html"><a href="generating-testthat-test-files.html#setting-up-the-context"><i class="fa fa-check"></i><b>9.1.1</b> Setting up the context</a></li>
<li class="chapter" data-level="9.1.2" data-path="generating-testthat-test-files.html"><a href="generating-testthat-test-files.html#loading-objects"><i class="fa fa-check"></i><b>9.1.2</b> Loading objects</a></li>
<li class="chapter" data-level="9.1.3" data-path="generating-testthat-test-files.html"><a href="generating-testthat-test-files.html#unit-test-file-generation"><i class="fa fa-check"></i><b>9.1.3</b> Unit test file generation</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="generating-testthat-test-files.html"><a href="generating-testthat-test-files.html#generated-unit-test-file-content"><i class="fa fa-check"></i><b>9.2</b> Generated unit test file content</a></li>
<li class="chapter" data-level="9.3" data-path="generating-testthat-test-files.html"><a href="generating-testthat-test-files.html#caveats"><i class="fa fa-check"></i><b>9.3</b> Caveats</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="meta-testing.html"><a href="meta-testing.html"><i class="fa fa-check"></i><b>10</b> Meta-testing</a><ul>
<li class="chapter" data-level="10.1" data-path="meta-testing.html"><a href="meta-testing.html#traditional-way-of-testing"><i class="fa fa-check"></i><b>10.1</b> Traditional way of testing</a><ul>
<li class="chapter" data-level="10.1.1" data-path="meta-testing.html"><a href="meta-testing.html#empirical-approach"><i class="fa fa-check"></i><b>10.1.1</b> Empirical approach</a></li>
<li class="chapter" data-level="10.1.2" data-path="meta-testing.html"><a href="meta-testing.html#more-industrial-approach"><i class="fa fa-check"></i><b>10.1.2</b> More industrial approach</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="meta-testing.html"><a href="meta-testing.html#meta-testing-1"><i class="fa fa-check"></i><b>10.2</b> Meta testing</a><ul>
<li class="chapter" data-level="10.2.1" data-path="meta-testing.html"><a href="meta-testing.html#meta-testing-approach"><i class="fa fa-check"></i><b>10.2.1</b> Meta testing approach</a></li>
<li class="chapter" data-level="10.2.2" data-path="meta-testing.html"><a href="meta-testing.html#create-a-wrapper-function"><i class="fa fa-check"></i><b>10.2.2</b> Create a wrapper function</a></li>
<li class="chapter" data-level="10.2.3" data-path="meta-testing.html"><a href="meta-testing.html#getting-some-complexity-knowledge"><i class="fa fa-check"></i><b>10.2.3</b> Getting some complexity knowledge</a></li>
<li class="chapter" data-level="10.2.4" data-path="meta-testing.html"><a href="meta-testing.html#firing-massive-tests"><i class="fa fa-check"></i><b>10.2.4</b> Firing massive tests</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="meta-testing.html"><a href="meta-testing.html#a-more-complex-example"><i class="fa fa-check"></i><b>10.3</b> A more complex example</a><ul>
<li class="chapter" data-level="10.3.1" data-path="meta-testing.html"><a href="meta-testing.html#create-a-wrapper-function-1"><i class="fa fa-check"></i><b>10.3.1</b> Create a wrapper function</a></li>
<li class="chapter" data-level="10.3.2" data-path="meta-testing.html"><a href="meta-testing.html#getting-some-complexity-knowledge-1"><i class="fa fa-check"></i><b>10.3.2</b> Getting some complexity knowledge</a></li>
<li class="chapter" data-level="10.3.3" data-path="meta-testing.html"><a href="meta-testing.html#firing-massive-tests-1"><i class="fa fa-check"></i><b>10.3.3</b> Firing massive tests</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="meta-testing.html"><a href="meta-testing.html#an-example-using-ellipsis"><i class="fa fa-check"></i><b>10.4</b> An example using ellipsis</a><ul>
<li class="chapter" data-level="10.4.1" data-path="meta-testing.html"><a href="meta-testing.html#create-a-wrapper-function-2"><i class="fa fa-check"></i><b>10.4.1</b> Create a wrapper function</a></li>
<li class="chapter" data-level="10.4.2" data-path="meta-testing.html"><a href="meta-testing.html#getting-some-complexity-knowledge-2"><i class="fa fa-check"></i><b>10.4.2</b> Getting some complexity knowledge</a></li>
<li class="chapter" data-level="10.4.3" data-path="meta-testing.html"><a href="meta-testing.html#firing-massive-tests-2"><i class="fa fa-check"></i><b>10.4.3</b> Firing massive tests</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="meta-testing.html"><a href="meta-testing.html#a-tricky-example"><i class="fa fa-check"></i><b>10.5</b> A tricky example</a><ul>
<li class="chapter" data-level="10.5.1" data-path="meta-testing.html"><a href="meta-testing.html#create-wrapper-function"><i class="fa fa-check"></i><b>10.5.1</b> Create wrapper function</a></li>
<li class="chapter" data-level="10.5.2" data-path="meta-testing.html"><a href="meta-testing.html#getting-some-complexity-knowledge-3"><i class="fa fa-check"></i><b>10.5.2</b> Getting some complexity knowledge</a></li>
<li class="chapter" data-level="10.5.3" data-path="meta-testing.html"><a href="meta-testing.html#firing-massive-tests-3"><i class="fa fa-check"></i><b>10.5.3</b> Firing massive tests</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="meta-testing.html"><a href="meta-testing.html#pitfalls-to-avoid"><i class="fa fa-check"></i><b>10.6</b> Pitfalls to avoid</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html"><i class="fa fa-check"></i><b>11</b> Generating <cite class='it'>R</cite> documentation</a><ul>
<li class="chapter" data-level="11.1" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#conceptual-approach"><i class="fa fa-check"></i><b>11.1</b> Conceptual approach</a></li>
<li class="chapter" data-level="11.2" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#vignettes"><i class="fa fa-check"></i><b>11.2</b> Vignettes</a></li>
<li class="chapter" data-level="11.3" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#api"><i class="fa fa-check"></i><b>11.3</b> <cite class='it'>API</cite></a></li>
<li class="chapter" data-level="11.4" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#best-generation-strategy"><i class="fa fa-check"></i><b>11.4</b> Best generation strategy</a></li>
<li class="chapter" data-level="11.5" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#pure-r-function"><i class="fa fa-check"></i><b>11.5</b> Pure <cite class='it'>R</cite> function</a></li>
<li class="chapter" data-level="11.6" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#offensive-programming-r-function"><i class="fa fa-check"></i><b>11.6</b> Offensive programming <cite class='it'>R</cite> function</a></li>
<li class="chapter" data-level="11.7" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#known-limits"><i class="fa fa-check"></i><b>11.7</b> Known limits</a></li>
<li class="chapter" data-level="11.8" data-path="generating-r-documentation.html"><a href="generating-r-documentation.html#opportunities"><i class="fa fa-check"></i><b>11.8</b> Opportunities</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="implementation-figures.html"><a href="implementation-figures.html"><i class="fa fa-check"></i><b>12</b> Implementation figures</a><ul>
<li class="chapter" data-level="12.1" data-path="implementation-figures.html"><a href="implementation-figures.html#file-statistics"><i class="fa fa-check"></i><b>12.1</b> File statistics</a></li>
<li class="chapter" data-level="12.2" data-path="implementation-figures.html"><a href="implementation-figures.html#code-statistics"><i class="fa fa-check"></i><b>12.2</b> Code statistics</a></li>
<li class="chapter" data-level="12.3" data-path="implementation-figures.html"><a href="implementation-figures.html#tests-and-coverage"><i class="fa fa-check"></i><b>12.3</b> Tests and coverage</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>13</b> Conclusion</a><ul>
<li class="chapter" data-level="13.1" data-path="conclusion.html"><a href="conclusion.html#benefits-of-offensive-programming"><i class="fa fa-check"></i><b>13.1</b> Benefits of offensive programming</a></li>
<li class="chapter" data-level="13.2" data-path="conclusion.html"><a href="conclusion.html#concerns-of-offensive-programming"><i class="fa fa-check"></i><b>13.2</b> Concerns of offensive programming</a></li>
<li class="chapter" data-level="13.3" data-path="conclusion.html"><a href="conclusion.html#your-feedback-is-welcome"><i class="fa fa-check"></i><b>13.3</b> Your feedback is welcome</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="explicit-lege-feliciter.html"><a href="explicit-lege-feliciter.html"><i class="fa fa-check"></i>Explicit - Lege feliciter</a></li>
<li class="divider"></li>
<li><a href="https://www.linkedin.com/in/fabiengelineau" target="blank">instigator Fabien GELINEAU</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Offensive Programming Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-type-factory" class="section level1">
<h1><span class="header-section-number"> 4</span> The type factory</h1>
<p>The types that you wish to control are managed by a type factory.
Retrieveing an object of this class, using function <cite class='kw'>retrieveFactory</cite>, allows you to</p>
<ol style="list-style-type: lower-alpha">
<li>discover what are the already recorded types, available for reuse</li>
<li>register your own types so they can be checked dynamically wherever and whenever required</li>
<li>understand the verification logic for each type</li>
</ol>
<div id="get-recorded-types-inventory" class="section level2">
<h2><span class="header-section-number">4.1</span> Get recorded types inventory</h2>
<p>Simply use <cite class='kw'>getRecordedTypes</cite> function. It returns a <a href="https://CRAN.R-project.org/package=data.table">data.table</a>, that you can filter out conveniently.</p>
<p>Here is an example.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">f &lt;-<span class="st"> </span><span class="kw">retrieveFactory</span>()</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">f<span class="op">$</span><span class="kw">getRecordedTypes</span>()</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt;     suffix                      type verify_function         category</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;  1:      a                     array      &lt;function&gt;   data structure</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;  2:      b                   boolean      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;  3:      c                   complex      &lt;function&gt;          numeric</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;  4:     ca                      call      &lt;function&gt;         language</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;  5:     ch                 character      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;  6:     cm              complex-math      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;  7:      d                    double      &lt;function&gt;          numeric</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;  8:     da                      date      &lt;function&gt;             date</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt;  9:     dc                   POSIXct      &lt;function&gt;             date</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt; 10:     df                data.frame      &lt;function&gt;   data structure</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; 11:     dl                   POSIXlt      &lt;function&gt;             date</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; 12:     dm               double-math      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; 13:     dt                data.table      &lt;function&gt;   data structure</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt; 14:      e               environment      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt; 15:     er                     error      &lt;function&gt; error management</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt; 16:     ex                expression      &lt;function&gt;         language</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt; 17:      f                  function      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; 18:     fa                    factor      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt; 19:      i                   integer      &lt;function&gt;          numeric</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt; 20:     im              integer-math      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt; 21:      l                      list      &lt;function&gt;   data structure</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt; 22:     lo                   logical      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt; 23:      m                    matrix      &lt;function&gt;   data structure</span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt; 24:      n                   numeric      &lt;function&gt;          numeric</span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28"><span class="co">#&gt; 25:     na                        na      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co">#&gt; 26:     ni          negative integer      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="co">#&gt; 27:     nm                      name      &lt;function&gt;         language</span></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="co">#&gt; 28:     nr             negative real      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"><span class="co">#&gt; 29:      o                    object      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="co">#&gt; 30:     pi          positive integer      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34"><span class="co">#&gt; 31:     pr             positive real      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-35" data-line-number="35"><span class="co">#&gt; 32:      r                 real-math      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-36" data-line-number="36"><span class="co">#&gt; 33:     ra                       raw      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-37" data-line-number="37"><span class="co">#&gt; 34:     rm           real-math alias      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-38" data-line-number="38"><span class="co">#&gt; 35:      s                    string      &lt;function&gt;            basic</span></a>
<a class="sourceLine" id="cb6-39" data-line-number="39"><span class="co">#&gt; 36:    sni strictly negative integer      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-40" data-line-number="40"><span class="co">#&gt; 37:    snr    strictly negative real      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-41" data-line-number="41"><span class="co">#&gt; 38:    spi strictly positive integer      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-42" data-line-number="42"><span class="co">#&gt; 39:    spr    strictly positive real      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-43" data-line-number="43"><span class="co">#&gt; 40:      t                     table      &lt;function&gt;   data structure</span></a>
<a class="sourceLine" id="cb6-44" data-line-number="44"><span class="co">#&gt; 41:     ui          unsigned integer      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-45" data-line-number="45"><span class="co">#&gt; 42:     ur             unsigned real      &lt;function&gt;             math</span></a>
<a class="sourceLine" id="cb6-46" data-line-number="46"><span class="co">#&gt; 43:      w                   warning      &lt;function&gt; error management</span></a>
<a class="sourceLine" id="cb6-47" data-line-number="47"><span class="co">#&gt;     suffix                      type verify_function         category</span></a></code></pre></div>
</div>
<div id="understanding-the-model" class="section level2">
<h2><span class="header-section-number">4.2</span> Understanding the model</h2>
<p>A type is defined by three elements</p>
<ol style="list-style-type: decimal">
<li>a unique suffix</li>
<li>a unique name</li>
<li>a function that returns a boolean value, <cite class='kw'>TRUE</cite> when examining a value that matches
the type</li>
</ol>
<p>For example, you might wonder what means <cite class='fd'>ui</cite> as a suffix</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">f<span class="op">$</span><span class="kw">getRecordedTypes</span>()[suffix <span class="op">==</span><span class="st"> &#39;ui&#39;</span>]</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt;    suffix             type verify_function category</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; 1:     ui unsigned integer      &lt;function&gt;     math</span></a></code></pre></div>
<p>What is the function related to suffix <cite class='fd'>ui</cite>?</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">f<span class="op">$</span><span class="kw">getVerificationFunction</span>(<span class="st">&#39;ui&#39;</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#&gt; function(o_1l_) isPureMathInteger(o_1l_) &amp;&amp; all(o_1l_ &gt;= 0L)</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; &lt;bytecode: 0x557d9bd328d8&gt;</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; &lt;environment: 0x557d9bdb37d8&gt;</span></a></code></pre></div>
</div>
<div id="register-your-own-type" class="section level2">
<h2><span class="header-section-number">4.3</span> Register your own type</h2>
<p>Type registration is achieved by providing a type suffix, a type name and a verification function. Registration will be tagged automatically as user-defined. Here is a typical sequence to register your own type</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">f<span class="op">$</span><span class="kw">addSuffix</span>(<span class="st">&#39;mc&#39;</span>, <span class="st">&#39;MyClass&#39;</span>, <span class="cf">function</span>(o_1l_) <span class="kw">is</span>(o_1l_, <span class="st">&#39;MyClass&#39;</span>))</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">f<span class="op">$</span><span class="kw">getRecordedTypes</span>()[suffix <span class="op">==</span><span class="st"> &#39;mc&#39;</span>]</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt;    suffix    type verify_function     category</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt; 1:     mc MyClass      &lt;function&gt; user defined</span></a></code></pre></div>
<p>Note that no implementation of the class is required. It is purely declarative registration. You told the type factory to record the type <cite class='fd'>MyClass</cite> under the suffix <cite class='fd'>mc</cite>, with the verification function you provided. Here verification function is quite simple. Notice that it takes a single object as argument and that function signature must match for the operation to succeed. Always bear great attention to returned value. It must be <cite class='kw'>TRUE</cite> for your type to be registered into the factory.</p>
</div>
<div id="get-access-to-verification-functions" class="section level2">
<h2><span class="header-section-number">4.4</span> Get access to verification functions</h2>
<p>Implementation of verification function can range from quite simple to as complex as required. This allows you to manage functional scopes much more easily, whatever you work and organization context.</p>
<p>For example, if you want to see at a glance the differences between a <cite class='kw'>boolean</cite> and a <cite class='kw'>logical</cite>, here is the sequence you could use</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">f<span class="op">$</span><span class="kw">getVerificationFunction</span>(<span class="st">&#39;b&#39;</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; function(o_1l_) {</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt;     if (!is.logical(o_1l_)) return(FALSE)</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt;     if (length(o_1l_) == 0) return(TRUE)</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt;     all(is.na(o_1l_) == FALSE)</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt;   }</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt; &lt;bytecode: 0x557d9bd10e50&gt;</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; &lt;environment: 0x557d9bdb37d8&gt;</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">f<span class="op">$</span><span class="kw">getVerificationFunction</span>(<span class="st">&#39;logical&#39;</span>)</a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt; function (x)  .Primitive(&quot;is.logical&quot;)</span></a></code></pre></div>
<p>From the two definitions, you can deduce the differences between the two types. A boolean is a 2-value boolean, either <cite class='kw'>TRUE</cite> or <cite class='kw'>FALSE</cite>. A logical, is a <cite class='it'>R</cite> logical value, that is a 3-value boolean, so it may take value <cite class='kw'>NA</cite>.</p>
<p>Note that arguments to the function <cite class='kw'>getVerificationFunction</cite> can be either a registered suffix or a registered type, as shown on this example.</p>
</div>
<div id="some-hints" class="section level2">
<h2><span class="header-section-number">4.5</span> Some hints</h2>
<p>There is currently no way to remove one recorded type. This need is indeed very specific and arise only when there is a name collision and you wish to use an already taken name for your own purpose.</p>
<p>Solution is quite simple, use another name. Provided types are the most commons, and the current suffixes have been chosen for ease of use and for intuitive usage.</p>
<p>Whenever you need to register a new type, ask yourself ‘what is the suffix I wish to use for the new type?’. My advice is to use short suffixes, made of 2 or 3 letters. That’s clearly sufficient to distinguish your type from others. Know that there is not limitation to the length of the suffix you can use. Simply, comply with <cite class='kw'>KISS</cite>, as you will have to type it several times, probably.</p>
<p>If you come from another programming language, you may consider to create aliased types by recording new entries. Let’s look at a concrete case.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">f<span class="op">$</span><span class="kw">addSuffix</span>(<span class="st">&#39;ui&#39;</span>, <span class="st">&#39;unsigned integer&#39;</span>, </a>
<a class="sourceLine" id="cb11-2" data-line-number="2">            <span class="cf">function</span>(o_<span class="dv">1</span>_) f<span class="op">$</span><span class="kw">getVerificationFunction</span>(<span class="st">&#39;i&#39;</span>)(o_1l_) <span class="op">&amp;&amp;</span><span class="st"> </span>o_<span class="dv">1</span>_ <span class="op">&gt;=</span><span class="st"> </span>0L) </a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">f<span class="op">$</span><span class="kw">addSuffix</span>(<span class="st">&#39;ul&#39;</span>, <span class="st">&#39;unsigned long&#39;</span>   , f<span class="op">$</span><span class="kw">getVerificationFunction</span>(<span class="st">&#39;ui&#39;</span>))</a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6">f<span class="op">$</span><span class="kw">getRecordedTypes</span>()[suffix <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;ui&#39;</span>, <span class="st">&#39;ul&#39;</span>)]</a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt;    suffix             type verify_function     category</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; 1:     ui unsigned integer      &lt;function&gt;         math</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; 2:     ul    unsigned long      &lt;function&gt; user defined</span></a></code></pre></div>
<p>You asked to add two new entries in the type factory, and they share the same verification function. First add fails, second one succeeds. The reason is that <cite class='fd'>ui</cite> suffix is already defined and you cannot redefine an already defined suffix.</p>
<p>Now, <cite class='fd'>ui</cite> and <cite class='fd'>ul</cite> are aliases of the same verification function. Notice that this is true now, and cannot be changed once created. Indeed, you always have the opportunity to create a new type factory to match your new need. You can use as many type factories as you want.</p>
<p>The term alias shall not be understood, as an authorization to use one name for the other, but rather as an ability to define quickly new types to ease functional scope management.</p>
</div>
<div id="enforcing-use-of-your-own-type-factory" class="section level2">
<h2><span class="header-section-number">4.6</span> Enforcing use of your own type factory</h2>
<p>When you customized your own type factory, you need a way to tell <cite class='it'>wyz.code.offensiveProgramming</cite> to use it.
To do so, simply create your type factory and assign it to a <cite class='it'>R</cite> variable, and set option <strong>op_type_factory</strong> to point to the name of this <cite class='it'>R</cite> variable.
Let’s see an example</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">ff &lt;-<span class="st"> </span><span class="kw">retrieveFactory</span>()</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">ff<span class="op">$</span><span class="kw">addSuffix</span>(<span class="st">&#39;wo&#39;</span>, <span class="st">&quot;wo class&quot;</span>, <span class="cf">function</span>(o_1l_) <span class="kw">is</span>(o_1l_, <span class="st">&quot;wo&quot;</span>))</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">ff<span class="op">$</span><span class="kw">addSuffix</span>(<span class="st">&#39;yo&#39;</span>, <span class="st">&quot;yo class&quot;</span>, <span class="cf">function</span>(o_1l_) <span class="kw">is</span>(o_1l_, <span class="st">&quot;yo&quot;</span>))</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6">ff<span class="op">$</span><span class="kw">addSuffix</span>(<span class="st">&#39;zo&#39;</span>, <span class="st">&quot;zo class&quot;</span>, <span class="cf">function</span>(o_1l_) <span class="kw">is</span>(o_1l_, <span class="st">&quot;zo&quot;</span>))</a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="kw">options</span>(<span class="dt">op_type_factory =</span> ff)</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">fg &lt;-<span class="st"> </span><span class="kw">retrieveFactory</span>() <span class="co"># retrieves the factory pointed by R variable ff</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10">fg<span class="op">$</span><span class="kw">getRecordedTypes</span>()[suffix <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;wo&#39;</span>, <span class="st">&#39;yo&#39;</span>, <span class="st">&#39;zo&#39;</span>)] <span class="co"># right behavior !</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co">#&gt;    suffix     type verify_function     category</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt; 1:     wo wo class      &lt;function&gt; user defined</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt; 2:     yo yo class      &lt;function&gt; user defined</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt; 3:     zo zo class      &lt;function&gt; user defined</span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co"># wrong behavior as retrieveFactory will provide the default factory and not yours!</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="kw">options</span>(<span class="dt">op_type_factory =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb12-18" data-line-number="18">fh &lt;-<span class="st"> </span><span class="kw">retrieveFactory</span>() <span class="co"># retrieves the default factory</span></a>
<a class="sourceLine" id="cb12-19" data-line-number="19">fh<span class="op">$</span><span class="kw">getRecordedTypes</span>()[suffix <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;wo&#39;</span>, <span class="st">&#39;yo&#39;</span>, <span class="st">&#39;zo&#39;</span>)]</a>
<a class="sourceLine" id="cb12-20" data-line-number="20"><span class="co">#&gt; Empty data.table (0 rows and 4 cols): suffix,type,verify_function,category</span></a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="activating-offensive-programming.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="semantic-names.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "night",
"family": "serif",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
